(()=>{function n(t){if(1===t.length){var e=t[0];return[[e.starting,e.height],[e.ending,0]]}var i=Math.floor(t.length/2);return function(n,t){for(var e,i=[],r=[-1,0],l=[-1,0],o=0,a=0;;){if(o>=n.length||a>=t.length){e=o>=n.length?t.slice(a):n.slice(o);break}if(n[o][0]<=t[a][0]){var u=r[1],s=void 0;if(r=n[o],o++,r[1]<=l[1]){if(u<=l[1])continue;s=l[1]}else s=r[1];r[0]===l[0]&&i.pop(),i.push([r[0],s])}else{if(u=l[1],s=void 0,l=t[a],a++,l[1]<=r[1]){if(u<=r[1])continue;s=r[1]}else s=l[1];r[0]===l[0]&&i.pop(),i.push([l[0],s])}}return i[i.length-1][0]===e[0][0]&&(i.pop(),e[0][1]===i[i.length-1][1]&&e.shift()),i.concat(e)}(n(t.slice(0,i)),n(t.slice(i)))}function t(t){var e=function(n){return n.trim().split("\n").map((function(n){var t=n.split(/[^\.\d]+/);if(3!==t.length)throw window.alert("Invalid input: "+n),new Error("invalid input");var e={starting:parseFloat(t[0]),ending:parseFloat(t[2]),height:parseFloat(t[1])};if(!(e.ending>e.starting))throw window.alert("building ends before starts: "+n),new Error("invalid input");return e}))}(t);return n(e).map((function(n){return n.join(" ")})).join("\n")}var e;null===(e=document.getElementById("solve"))||void 0===e||e.addEventListener("click",(function(){var n=document.getElementById("input");if(null!==n){var e=document.getElementById("output");null!==e&&(e.innerText=t(n.value))}}))})();
